import{d as u,r as s,c as l,a as n,b as v,o as r}from"./index-226f14ce.js";const m=n("h1",null,"相機測試頁面",-1),g=n("video",{id:"videoRef",width:"300",autoplay:"",playsinline:""},null,-1),f=["src"],h=u({__name:"CameraTest",setup(p){const o=s(),i=s("");function c(){if(o.value!=null){const t=o.value,e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;const a=e.getContext("2d");a!=null&&(a.drawImage(t,0,0),i.value=e.toDataURL("image/png"))}}async function d(){o.value=document.querySelector("#videoRef");try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}});o.value!==void 0&&(o.value.srcObject=t)}catch(t){console.log(t)}}return(t,e)=>(r(),l("div",null,[m,n("button",{class:"border-red-500 border-2",onClick:e[0]||(e[0]=a=>d())}," 開啟相機 "),n("button",{class:"border-red-500 border-2 ml-2",onClick:e[1]||(e[1]=a=>c())}," 拍照 "),g,i.value!==""?(r(),l("img",{key:0,src:i.value,alt:"Image preview",style:{"max-width":"300px"}},null,8,f)):v("",!0)]))}});export{h as default};
